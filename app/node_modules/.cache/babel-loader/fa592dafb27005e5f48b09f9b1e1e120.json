{"remainingRequest":"c:\\Users\\pc\\Desktop\\dogshop\\app\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\pc\\Desktop\\dogshop\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\pc\\Desktop\\dogshop\\app\\src\\components\\login\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\pc\\Desktop\\dogshop\\app\\src\\components\\login\\login.vue","mtime":1569400749185},{"path":"c:\\Users\\pc\\Desktop\\dogshop\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1568774874184},{"path":"c:\\Users\\pc\\Desktop\\dogshop\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1568774873347},{"path":"c:\\Users\\pc\\Desktop\\dogshop\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1568774899275}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  created: function created() {\n    this.check();\n  },\n  data: function data() {\n    return {\n      uname: \"\",\n      upwd: \"\"\n    };\n  },\n  methods: {\n    check: function check() {\n      if (window.sessionStorage.uid) {\n        console.log(\"以登录\");\n      } else {\n        console.log(\"未登录\");\n      }\n    },\n    phone: function phone() {\n      this.$router.go(-1);\n    },\n    forget: function forget() {\n      this.$router.push(\"/forget\");\n    },\n    login: function login() {\n      var _this = this;\n\n      // 功能一：完成用户登录操作\n      // 1：获取用户名和密码\n      var u = this.uname;\n      var p = this.upwd; // console.log(u+\":\"+p);\n      // 2: 创建正则表达式 3~12位置 字母数字\n\n      var re = /^1(2|3|4|5|7|8)\\d{9}$/;\n      var reg = /^[0-9]{3,12}$/i; // 3: 判断如何错误 用户名提示\n\n      if (!re.test(u)) {\n        this.$toast(\"手机号格式不正确\");\n        return;\n      } // 4: 判断如何错误 密码提示\n\n\n      if (!reg.test(p)) {\n        this.$toast(\"密码格式不正确\");\n        return;\n      } // 5: 发送ajax  axios\n\n\n      var url = \"login\";\n      var obj = {\n        uname: u,\n        upwd: p\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        // console.log(res.data.code);\n        // 6: 接收服务器返回数据\n        var code = res.data.code;\n\n        if (code == -1) {\n          // 7: 失败 提示\n          _this.$messagebox(\"消息\", \"手机号或密码有误\");\n        } else {\n          // 8: 成功 跳转\n          // console.log(res.data)\n          window.sessionStorage.uid = res.data[0].id;\n          console.log(window.sessionStorage.uid);\n\n          _this.$router.push(\"/Home\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,SADA,qBACA;AACA,SAAA,KAAA;AACA,GAHA;AAIA,MAJA,kBAIA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAIA,GATA;AAUA,WAAA;AACA,SADA,mBACA;AACA,UAAA,OAAA,cAAA,CAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OAFA,MAEA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA;AACA,KAPA;AAQA,SARA,mBAQA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAVA;AAWA,UAXA,oBAWA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAbA;AAcA,SAdA,mBAcA;AAAA;;AACA;AACA;AACA,UAAA,IAAA,KAAA,KAAA;AACA,UAAA,IAAA,KAAA,IAAA,CAJA,CAKA;AACA;;AACA,UAAA,KAAA,uBAAA;AACA,UAAA,MAAA,gBAAA,CARA,CASA;;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA,OAbA,CAcA;;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA,OAlBA,CAmBA;;;AACA,UAAA,MAAA,OAAA;AACA,UAAA,MAAA;AAAA,eAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA;AACA,YAAA,OAAA,IAAA,IAAA,CAAA,IAAA;;AACA,YAAA,QAAA,CAAA,CAAA,EAAA;AACA;AACA,gBAAA,WAAA,CAAA,IAAA,EAAA,UAAA;AACA,SAHA,MAGA;AACA;AACA;AACA,iBAAA,cAAA,CAAA,GAAA,GAAA,IAAA,IAAA,CAAA,CAAA,EAAA,EAAA;AACA,kBAAA,GAAA,CAAA,OAAA,cAAA,CAAA,GAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OAdA;AAeA;AAnDA;AAVA,CAAA","sourcesContent":["<!-- 自定义组件 -->\r\n<template>\r\n  <!-- 根元素 -->\r\n  <div>\r\n    <!-- 快捷登录 -->\r\n    <div class=\"head\">\r\n      <h3>账号登录</h3>\r\n      <img class=\"img1\" @click=\"phone\" src=\"../../assets/myself/10.png\" alt />\r\n    </div>\r\n    <!--用户名输入框-->\r\n    <mt-field class=\"name\" label=\"用户名 :\" placeholder=\"请输入用户名\" v-model=\"uname\"></mt-field>\r\n    <!--用户密码输入框-->\r\n    <mt-field class=\"pwd\" label=\"密码 :\" placeholder=\"请输入密码\" v-model=\"upwd\"></mt-field>\r\n    <span @click=\"forget\">忘记密码?</span>\r\n    <!-- 确定按钮 绑定事件 -->\r\n    <mt-button class=\"btn\" size=\"large\" @click=\"login\">确定</mt-button>\r\n    <!-- 其他方式登录 -->\r\n    <div class=\"q\">\r\n      <p>———— 其他方式登录 ————</p>\r\n      <img class=\"q_img\" src=\"../../assets/myself/wx.png\" alt />\r\n      <img class=\"q_img\" src=\"../../assets/myself/QQ.png\" alt />\r\n      <img class=\"q_img\" src=\"../../assets/myself/zfb.png\" alt />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  created() {\r\n    this.check();\r\n  },\r\n  data() {\r\n    return {\r\n      uname: \"\",\r\n      upwd: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    check() {\r\n      if (window.sessionStorage.uid) {\r\n        console.log(\"以登录\")\r\n      } else {\r\n        console.log(\"未登录\");\r\n      }\r\n    },\r\n    phone() {\r\n      this.$router.go(-1);\r\n    },\r\n    forget() {\r\n      this.$router.push(\"/forget\");\r\n    },\r\n    login() {\r\n      // 功能一：完成用户登录操作\r\n      // 1：获取用户名和密码\r\n      var u = this.uname;\r\n      var p = this.upwd;\r\n      // console.log(u+\":\"+p);\r\n      // 2: 创建正则表达式 3~12位置 字母数字\r\n      var re = /^1(2|3|4|5|7|8)\\d{9}$/;\r\n      var reg = /^[0-9]{3,12}$/i;\r\n      // 3: 判断如何错误 用户名提示\r\n      if (!re.test(u)) {\r\n        this.$toast(\"手机号格式不正确\");\r\n        return;\r\n      }\r\n      // 4: 判断如何错误 密码提示\r\n      if (!reg.test(p)) {\r\n        this.$toast(\"密码格式不正确\");\r\n        return;\r\n      }\r\n      // 5: 发送ajax  axios\r\n      var url = \"login\";\r\n      var obj = { uname: u, upwd: p };\r\n      this.axios.get(url, { params: obj }).then(res => {\r\n        // console.log(res.data.code);\r\n        // 6: 接收服务器返回数据\r\n        var code = res.data.code;\r\n        if (code == -1) {\r\n          // 7: 失败 提示\r\n          this.$messagebox(\"消息\", \"手机号或密码有误\");\r\n        } else {\r\n          // 8: 成功 跳转\r\n          // console.log(res.data)\r\n          window.sessionStorage.uid = res.data[0].id;\r\n          console.log(window.sessionStorage.uid)\r\n          this.$router.push(\"/Home\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>  \r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n/* 账号登录***************** */\r\n.head {\r\n  border-bottom: 0.5rem solid #f4f4f4;\r\n}\r\n.img1 {\r\n  /* 左箭头样式 */\r\n  width: 0.6rem;\r\n  height: 0.6rem;\r\n  display: inline-block;\r\n  position: absolute;\r\n  top: 0.7rem;\r\n}\r\n.head h3 {\r\n  /* 字体样式 */\r\n  font-size: 0.4rem;\r\n  text-align: center;\r\n  margin-bottom: 0.5rem;\r\n  margin-top: 0.7rem;\r\n}\r\n/* 用户名输入框************************* */\r\n.name,\r\n.pwd {\r\n  border-bottom: 0.05rem solid #f4f4f4;\r\n}\r\n.name >>> .mint-cell-wrapper {\r\n  font-size: 0.3rem;\r\n}\r\n.pwd >>> .mint-cell-wrapper {\r\n  font-size: 0.3rem;\r\n}\r\n/* 忘记密码 */\r\nspan {\r\n  color: #ff5b00;\r\n  font-size: 0.3rem;\r\n  float: right;\r\n  margin-bottom: 0.5rem;\r\n  margin-right: 0.3rem;\r\n  position: relative;\r\n  top: 0.2rem;\r\n}\r\n/* 确定按钮 */\r\n.btn {\r\n  background-color: #ff5b00;\r\n  color: #fff;\r\n  width: 95%;\r\n  margin: 0 auto;\r\n  font-size: 0.3rem;\r\n}\r\n/* 其他方式登录 **********************/\r\n.q {\r\n  position: absolute;\r\n  bottom: 0;\r\n  transform: translateX(18%);\r\n  margin-bottom:1rem;\r\n}\r\np {\r\n  font-size: 0.3rem;\r\n  color: #aaa;\r\n  text-align: center;\r\n}\r\n.q_img {\r\n  width: 0.8rem;\r\n  height: 0.8rem;\r\n  margin: 0 0.5rem;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\login"}]}